# 今日任务:
1.把线上课程学完: https://updraft.cyfrin.io/courses/solidity  

ppt链接:https://drive.google.com/file/d/1eraa5e9NjXlcQTb3l3lInq14uP7yuIXF/view

---
## 工具:
- 画图演示: excalidraw.com

---
# 知识点:
1.账户类型
 - EOA账户:签名控制数据(外部账户:外部是相对于链来说的)
 - 合约账户:代码控制数据

2.很多账户组成一棵树,合约里的变量也组成一棵树,可以全局搜索
![链表数据结构](https://github.com/Cobb9527/Images/blob/main/%E6%88%AA%E5%B1%8F2025-02-12%20%E4%B8%8A%E5%8D%8810.16.04.png)

3.外部地址一次只能调用一个合约,合约会再调用其他合约(合约内部的调用不叫 交易 ),这些全部叫做一个 交易

4.EVM: 执行字节码的环境,不能读取外部数据(原因:不同时刻请求的数据返回结果可能不一样,每个节点请求数据存在时间差,拿到的数据可能不一样,节点之间就无法达成共识.只能访问链上内部数据的话就是确定的,输入一样+程序一样,所有节点拿到的结果一定是一样的,就能达成共识)

5.节点:运行以太坊客户端代码的机器
通过节点介入某个网络,可以自己建节点(对硬件要求比较高,硬盘要大),所以有RPC服务(节点提供),需要给节点付费(计算资源+存储资源)
![](https://github.com/Cobb9527/Images/blob/main/%E6%88%AA%E5%B1%8F2025-02-12%20%E4%B8%8A%E5%8D%8810.06.57.png)

6.程序其实是操作码的组合,evm规划会规定好每个操作码需要消耗的gas,可以指定:每个区块最多消耗的gas/每笔交易消耗的gas,多了就打包不了.(操作码网站 evm.codes)

7.防止死循环:gas用完就停止
gas其实是工作量的表示单位.gas limit相当于行驶里程,gas price相当于每公里成本

8.gas旧方式弊端:矿工参与打包交易,故意提高gas费,导致gas居高不下(自己把自己的gas收走)

9.发起交易和实际执行(打包交易)存在时间差,可能导致付一些冤枉钱,1559优化了这个问题

10.Pow与pos
![](https://github.com/Cobb9527/Images/blob/main/%E6%88%AA%E5%B1%8F2025-02-12%20%E4%B8%8A%E5%8D%889.53.50.png)

---
# 问题
1.gas limit消耗完没掉完合约,gas也会被消耗,被矿工收走(已解决)
